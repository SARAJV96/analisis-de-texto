#!/bin/bash
# Limpieza de memoria
python -c "import torch; torch.cuda.empty_cache()" 2>/dev/null || true

# Variables de entorno
export PYTHONUNBUFFERED=TRUE

# Instalación de dependencias
pip install -r requirements.txt --no-cache-dir

# Inicio de la aplicación
streamlit run app.py \
    --server.port=$PORT \
    --server.address=0.0.0.0 \
    --server.headless=true \
    --server.enableCORS=false
